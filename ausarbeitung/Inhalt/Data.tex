\chapter{Data}
\label{cha:Data}

\section{Prompt Dataset}

The prompt analysis requires a dataset of user generated diffusion model prompts. Such a dataset can be collected from discord servers, the services' websites or dedicated prompt and image hostig websites such as 'Lexica Art' \autocite{lexica}. Ideally the dataset should contain prompts from different diffusion services such as 'Stable Diffusion' and 'Midjourney' to allow for a comparison between them. Differences in prompt structure for different services have already been observed by \autocite{ramesh}.
A comparison of prompts for different versions of the services could also be possible given such data.

I will use the 'diffusiondb' dataset that is publicly available on huggingface \autocite{poloclub-diffusiondb}, it contains a set of 14 million prompt-image pairs with about 1.8 million unique prompts. The prompt-image pairs were collected from the 'Stable Diffusion' discord server and include some additional metadata such as the prompt author's hashed username, the date it was created, the image generation seed and more.

The dataset's authors \autocite{poloclub-diffusiondb} acknowledge there might be a bias in the prompt collection, as the prompts were collected from the official 'Stable Diffusion' Discord server. This server might have a disproportionate amount of AI art enthusiasts and might not be representative of novice users.
Given that the data consists solely of 'Stable Diffusion' prompts, the findings might not apply to other diffusion services.


\subsection{Dataset Details}

Each of the 14 Million entries consist of an image\_name, prompt and other metadata \ref{metadata}. The image\_name can be used to find the image generated by the prompt and other parameters. The prompt string is the main focus of this thesis and will be analysed in the following sections.

The prompts were issued from the 6th August 2022 to the 20th August 2022 by 10351 unique discord users. On average each user issued 175 prompts, however the standard deviation is very high at 346. 442 users only issued one prompt while the most active user submitted 14059 unique prompts. 
The dataset creators \autocite{poloclub-diffusiondb} analysed the prompts with regard to prompt length, amount of specifier clauses and the most common tokens. Instead of tokenizing the prompts using punctuation marks, the researchers used the tokenizer provided in 'Stable Diffusion v1.4' \autocite{sd}. Specifier clauses are parts of prompts separated by one of the three delimiters \{,;|\} \ref{specifier_example}. 

%- word cloud of top 40 terms
%- distribution of amount of specifier clauses (getrennt durch Komma, Semikolon und |)
%- mention Greg Rutkowski for fantasy prompts


% TODO check den Satz mit Ramesh (der Inhalt wurde aus dem diffusiondb Paper übernommen)

...

\section{Artist Dataset}
\label{cha:Artist Dataset}

As with other modern AI systems, it is not obvious how the input prompt to a diffusion model influences the output. Style studies investigate this relationship between prompts and the gernerated images. Typically researchers examine the impact of keywords on the resulting images by prompting the model with different keywords and analysing the changes in the generated images.

I will use the dataset \autocite{thelist} as a reference dataset of keywords, that have a significant impact on the output images. The dataset contains artist names that have been shown to influence the output images, furthermore the creators of the dataset also characterised this influence by assigning tags to the artists. This list was created for the 'Stable Diffusion' service. The publishers of \autocite{thelist} created style references for other diffusion models such as 'Midjourney' and 'Disco Diffusion' as well.
There are other datasets available online \autocite{sd-fr}, however this dataset was by far the most comprehensive and detailed. 
% TODO others:
% https://weirdwonderfulai.art/resources/disco-diffusion-70-plus-artist-studies/ 
% \autocite{sd-fr}
% https://github.com/kaikalii/stable-diffusion-artists

Several artists are mentioned in the dataset multiple times, once under their real name and once under their pseudonyms. For example the artist 'Jean Giraud' is also listed as 'Moebius' and 'Mœbius'. I removed these duplicates from the dataset and added a pseudonyms column.

%many artists not in this dataset get recognized/show up in other analysis.

%For example the words 'andrei' 'riabovitchev' show up at the Chi Values:
%https://www.instagram.com/riabovitchev/?hl=de


%Some Artists are in the dataset multiple times, once under real name and once under a pseudonym (moebius and jean giraud)
% https://docs.google.com/spreadsheets/d/14xTqtuV3BuKDNhLotB_d1aFlBGnDJOY0BRXJ8-86GpA/edit#gid=0

%Artists with a name consisting of multiple parts but are identified with one part have high correlation with the other parts:
%Stanley Artgerm Lau --> identified by artgerm --> high correlation with lau


%many artists not in this dataset get recognized/show up in other analysis.

%For example the words 'andrei' 'riabovitchev' show up at the Chi Values:
%https://www.instagram.com/riabovitchev/?hl=de


%Some Artists are in the dataset multiple times, once under real name and once under a pseudonym (moebius and jean giraud)
% https://docs.google.com/spreadsheets/d/14xTqtuV3BuKDNhLotB_d1aFlBGnDJOY0BRXJ8-86GpA/edit#gid=0

%Artists with a name consisting of multiple parts but are identified with one part have high correlation with the other parts:
%Stanley Artgerm Lau --> identified by artgerm --> high correlation with lau

\section{Styles Dataset}
\label{cha:Styles Dataset}

As a reference of existing art styles, I will use the 'List of art movements' from Wikipedia \autocite{wikipedia-styles}. This list contains a total of 192 art movements, including movements around from 1000 AD to present day. The list is not limited to European or Western art, for example it includes the art movements 'Ukiyo-e' from Japan and 'Samikshavad' from India. The list also includes several art movements that emerged through the use of computers and modern technology, such as 'Digital art' and 'Art Photography'.


% Romanesque war von etwa 1000 AD bis 1200 AD



