\chapter{Methods}
\label{cha:Methods}

I want to disprove that the top mentioned artists are mentioned for their style. This would mean that they are less used for their own unique style but rather are added to prompts for other reasons.
When artists are not mentioned for their own unique style, the prompts in which they are mentioned should closely resemble other prompts in which they are not mentioned. Artists that are selected for other reasons as their style should essentially be independent of the rest of a prompt.

There are many different ways of measuring the similarity between prompts. Since we focuss on the analysis of styles in prompts, I will use direct references to styles as a way of quantifying the prompts. 
% TODO maybe also some other measures as well? we got plenty
% tdfidf similarity?


\section{Preprocessing}

The primary dataset contains 1.8 million prompts and metadata as mentioned in \ref{cha:Data}. The first step in the analysis is to detect the mentioned artists and styles in the prompts, the results are saved to separate files for the following steps.

\subsection{Detecting artists}

From the name of artists we have a large set of artist names and pseudonyms. Each prompt is analysed and all mentioned artists from the list \ref{cha:Artist Dataset} are extracted via exact match. 
(exact match of name and pseudonyms?)
TODO

The first iteration of this preprocessing step did not include the analysis of pseudonyms. After analysing the resulting data, I found that many artists were both mentioned by their real name and their pseudonym in many prompts. I thus decided to include the pseudonyms in the analysis.


\subsection{Detecting styles}

Similarly to the extraction of artists, I extracted the styles from the prompts via exact match. As a reference dataset of styles I used the list of YYY styles \ref{cha:Styles Dataset}.
X of the YYY styles were found in the prompts.

TODO numbers


\section{Characterizing the artists}

Process of obtaining the distributions of the artists 
- splitting the entire corpus into 'artist' and 'other'

\section{Comparing Style distributions}

\subsection{Bray-Curtis dissimilarity}

% stackexchange question
% https://stats.stackexchange.com/questions/609149/similarity-measure-for-two-discrete-distributions-a-group-of-proportions

% Comparison metrics is scaled in 0 to 1....
 %Soerensen-Dice coefficient
% https://en.wikipedia.org/wiki/S%C3%B8rensen%E2%80%93Dice_coefficient

%DSC =Dice similarity coefficient

%\[ DSC = \frac{2|X \cap Y|}{|X| + |Y|}\]

%Since \(|X|\) and \(|Y|\) are always one, we can simplify the formula to:

%\[ DSC = |X \cap Y|\]

% It is easier to use and reference the Bray Curtis dissimilarity

For comparing the style distributions I will use the Bray-Curtis dissimilarity. It comes from Biology and quanifies the compositional dissimiliarity between two sites, based on counts. This measure is 0 for identical distributions and 1 for distributions without any common elements. It is defined as:

\[ BC_{ij} = 1 - \frac{2C_{ij}}{S_i + S_j}\]

Since we express the style mentions as proportions, \(S_i\) and \(S_j\) are always one. We can simplify the formula to:

\[ BC_{ij} = 1 - C_{ij} \]


\(C_{ij}\) is the sum of the lesser values for styles in common between the compared prompts:

\[ C_{ij} = \sum_{s \in Styles} min(i_s,j_s)\]



TODO also use chi-square test to check the differences for significance?
maybe only compare the artists, where the differences are significant as indicated by chi-square test
maybe this way we do not have to compare all ca. 3200 artists


% TODO sind die top x wörter in prompts eines top künstlers ähnlicher zum "standard" als die top x wörter in prompts der anderen künstlers? 